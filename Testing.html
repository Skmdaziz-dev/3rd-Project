<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <!-- Favicon -->
    <link rel="shortcut icon" href="Cloudebite Logo.png" type="image/x-icon" />

    <style>
      /* Basic Reset */
      body,
      html {
        margin: 0;
        padding: 0;
        height: 100%;

        scroll-behavior: smooth;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      /* Background Video Styling */
      #bgvideo {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: -2;
      }

      .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        z-index: -1;
      }

      #home {
        height: 100vh;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        color: white;
      }

      #home h1,
      #home p,
      #home a {
        z-index: 1;
      }

      /* Navbar */
      .navbar-brand {
        font-size: 4rem; /* Makes "CloudBite" bigger */
        font-weight: bold;
        padding-left: 50px;
      }
      .navbar-nav .nav-link {
        font-size: 1.5rem; /* Smaller size for Home, About Us, etc. */
      }
      .navbar {
        background-color: transparent !important;
        transition: background-color 0.3s ease;
      }
      .nav-link {
        color: white !important;
        position: relative;
        transition: color 0.3s ease;
      }
      .nav-link::after {
        content: "";
        position: absolute;
        width: 0%;
        height: 2px;
        bottom: 0;
        left: 0;
        background-color: #ffc107;
        transition: width 0.3s ease;
      }
      .nav-link:hover {
        color: #ffc107 !important;
      }
      .nav-link:hover::after {
        width: 100%;
      }

      #clients {
        background-color: #f9f9f9;
        padding: 60px 0;
      }
      #clientCarousel img {
        height: 100px;
        object-fit: contain;
      }

      /* Clients */

      #clients {
        background-color: #f9f9f9;
        padding: 60px 0;
      }
      #clientCarousel img {
        height: 100px;
        object-fit: contain;
      }

      .carousel-container {
        display: flex;
        overflow-x: auto;
        overflow-y: hidden; /* prevent vertical scroll */
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
      }

      .carousel-item {
        scroll-snap-align: start;
      }

      .carousel-container.active {
        cursor: grabbing;
        user-select: none;
      }

      .carousel-item:hover {
        transform: translateY(-5px);
      }

      .carousel-item img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        display: block;
      }

      .carousel-caption {
        padding: 15px;
        text-align: center;
        font-weight: bold;
        font-size: 16px;
        color: #333;
      }

      /* Menu */
      .uniform-img {
        height: 200px;
        object-fit: cover;
        width: 100%;
      }

      /* Ensure all cards are equal height */
      .card {
        height: 100%;
        display: flex;
        flex-direction: column;
      }

      .card-body {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand me-auto" href="#">CloudBite</a>
        <div class="d-none d-lg-flex mx-auto">
          <ul class="navbar-nav">
            <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
            <li class="nav-item">
              <a class="nav-link" href="#Menu">Menu</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#how">How It Works</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#clients">Clients</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contact">Contact Us</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#partner">Partner</a>
            </li>
          </ul>
        </div>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </nav>

    <!-- HOME -->
    <section id="home" class="section">
      <video autoplay muted loop id="bgvideo">
        <source src="home.mp4" type="video/mp4" />
      </video>
      <div class="overlay"></div>

      <div>
        <h1 data-aos="fade-down" data-aos-delay="100">
          Maximize Your Kitchen Profits
        </h1>
        <p data-aos="fade-up" data-aos-delay="200">
          Join the fastest-growing restaurant company in the country
        </p>
        <button
          class="btn btn-warning text-dark mt-3"
          data-aos="fade-up"
          data-aos-delay="300"
          style="
            font-family: Impact, Haettenschweiler, 'Arial Narrow Bold',
              sans-serif;
          "
          data-bs-toggle="modal"
          data-bs-target="#mod"
        >
          Sign Up
        </button>
        <!-- modal -->
        <div class="modal fade" id="mod">
          <div class="modal-dialog">
            <div class="modal-content">
              <form id="form">
                <!-- Use form tag here -->
                <div class="modal-header">
                  <h4 class="modal-title text-warning">
                    Become a CloudeBite Member
                  </h4>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                  ></button>
                </div>

                <div class="modal-body">
                  <input
                    type="hidden"
                    name="access_key"
                    value="733ea08d-1783-4097-9a3c-c73d1528a91d"
                  />

                  Name:
                  <input
                    type="text"
                    name="name"
                    placeholder="Enter your Name"
                    class="form-control"
                    required
                  />
                  <br />
                  Contact:
                  <input
                    type="number"
                    name="contact"
                    placeholder="Enter your Contact"
                    class="form-control"
                    required
                  />
                  <br />
                  Email:
                  <input
                    type="email"
                    name="email"
                    placeholder="Enter your Email"
                    class="form-control"
                    required
                  />
                  <br />
                  Address:
                  <input
                    type="text"
                    name="address"
                    placeholder="Enter Present Address"
                    class="form-control"
                    required
                  />
                </div>

                <div class="modal-footer">
                  <button
                    type="submit"
                    onclick="submitForm(event)"
                    class="button button-info"
                  >
                    Submit
                  </button>

                  <button
                    type="button"
                    class="btn btn-danger"
                    data-bs-dismiss="modal"
                  >
                    Close
                  </button>
                </div>

                <div id="result" class="mt-3 text-center text-success"></div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Menu -->
    <div
      data-aos="zoom-in-up"
      id="Menu"
      class="container-fluid p-5 d-flex flex-column align-items-center text-center"
    >
      <p
        class="text-uppercase fw-bold p-5"
        data-aos="fade-up"
        data-aos-delay="100"
      >
        Our Popular Dishes
      </p>
    </div>

    <!-- Non-veg Thali -->
    <div class="row">
      <div
        data-aos="zoom-in-up"
        class="container-fluid d-flex flex-column align-items-center text-center"
      >
        <h1
          class="text-uppercase fw-bold mb-4"
          data-aos="fade-up"
          data-aos-delay="200"
        >
          ──────────── Tranding Menu ────────────
        </h1>
        <p class="lead mb-5" data-aos="fade-up" data-aos-delay="300">
          Feel the Authentic taste of food in CloudeBite
        </p>
      </div>
      <div data-aos="zoom-in-up" class="col-sm-4">
        <div class="card p-3">
          <img
            class="img-thumbnail uniform-img"
            src="chicken thali.jpeg"
            alt="Chicken Thali"
          />
          <div class="card-body text-center">
            <h4 class="card-title" style="color: black">Chicken Thali</h4>
            <p>
              3pcs Chicken curry + 1cup Rice + Alu vaja/Chokha + (Compulsory-
              Salad, Papar, pickle)
            </p>
            <h4 class="card-title">₹120/-</h4>
            <!-- <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#mod" > Buy Now</button> -->
            <button
              class="btn btn-warning add-to-cart"
              data-name="Chicken Thali"
              data-price="120"
              data-image="chicken thali.jpeg"
            >
              Add to Cart
            </button>
          </div>
        </div>
      </div>
      <div data-aos="zoom-in-up" class="col-sm-4">
        <div class="card p-3">
          <img
            class="img-thumbnail uniform-img"
            src="veg thali.jpeg"
            alt="Veg Thali"
          />
          <div class="card-body text-center">
            <h4 class="card-title" style="color: black">Veg Thali</h4>
            <p>
              2 veg Dishes + 1cup Rice + Veg Dal + Alu vaja/Chokha +
              (Compulsory- Salad, Papar, pickle)
            </p>
            <h4 class="card-title">₹80/-</h4>
            <button
              class="btn btn-warning add-to-cart"
              data-name="Veg Thali"
              data-price="80"
              data-image="veg thali.jpeg"
            >
              Add to Cart
            </button>
          </div>
        </div>
      </div>
      <div data-aos="zoom-in-up" class="col-sm-4">
        <div class="card p-3">
          <img
            class="img-thumbnail uniform-img"
            src="mutton beriyani.jpeg"
            alt="Mutton Biryani"
          />
          <div class="card-body text-center">
            <h4 class="card-title" style="color: black">Mutton Biryani</h4>
            <p>Mutton Biryani with 180g Mutton pcs + (Compulsory- Salad)</p>
            <h4 class="card-title">₹250/-</h4>
            <button
              class="btn btn-warning add-to-cart"
              data-name="Mutton Biryani"
              data-price="250"
              data-image="mutton beriyani.jpeg"
            >
              Add to Cart
            </button>
          </div>
        </div>
      </div>
    </div>
    <div
      id="c"
      class="container-fluid d-flex flex-column align-items-center text-center p-5"
    >
      <button
        class="btn p-3"
        style="
          text-decoration: none;
          font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
        "
      >
        <a
          href="Menu.html"
          class="btn btn-dark mt-2 p-2"
          data-aos="fade-up"
          data-aos-delay="300"
          >View Full Menu</a
        >
      </button>
    </div>

    <!-- Floating Cart Icon -->
    <div
      id="cart-icon"
      class="position-fixed bottom-0 end-0 m-4 bg-warning p-3 rounded-circle shadow"
      style="cursor: pointer; z-index: 1050"
    >
      <i class="fas fa-shopping-cart fa-2x text-dark"></i>
      <span
        id="cart-count"
        class="badge bg-danger text-white position-absolute top-0 start-100 translate-middle rounded-pill"
        >0</span
      >
    </div>

    <!-- Cart Modal -->
    <div class="modal fade" id="cartModal" tabindex="-1">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header bg-dark text-white">
            <h5 class="modal-title">Your Cart</h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <ul id="cart-items" class="list-group mb-3"></ul>
            <h5 class="text-end">Total: ₹ <span id="cart-total">0</span></h5>
          </div>
          <div class="modal-footer">
            <button id="continue-to-payment" class="btn btn-success">
              Continue
            </button>
            <button class="btn btn-danger" data-bs-dismiss="modal">
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Payment Modal -->
    <div
      class="modal fade"
      id="paymentModal"
      tabindex="-1"
      aria-labelledby="paymentModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header bg-primary text-white">
            <h5 class="modal-title" id="paymentModalLabel">
              Select Payment Method
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <form id="payment-form">
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="paymentMethod"
                  id="cod"
                  value="Cash on Delivery"
                  checked
                />
                <label class="form-check-label" for="cod">
                  Cash on Delivery
                </label>
              </div>
              <div class="form-check mt-2">
                <input
                  class="form-check-input"
                  type="radio"
                  name="paymentMethod"
                  id="upi"
                  value="UPI"
                />
                <label class="form-check-label" for="upi">
                  UPI (Google Pay, PhonePe, Paytm)
                </label>
              </div>
              <div class="form-check mt-2">
                <input
                  class="form-check-input"
                  type="radio"
                  name="paymentMethod"
                  id="netbanking"
                  value="Net Banking"
                />
                <label class="form-check-label" for="netbanking">
                  Net Banking
                </label>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button id="confirmPayment" class="btn btn-success">
              Confirm Payment
            </button>
            <button class="btn btn-danger" data-bs-dismiss="modal">
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <!-- Your existing markup + modal for cart -->
    <!-- Make sure to include Bootstrap CSS & JS if not already included -->
    <!-- For simplicity, here's just the script with necessary modifications -->

    <!-- Add this inside your existing cart modal after listing items, for example -->
    <div
      class="modal fade"
      id="cartModal"
      tabindex="-1"
      aria-labelledby="cartModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="cartModalLabel">Your Cart</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <ul id="cart-items" class="list-group mb-3"></ul>
            <div class="d-flex justify-content-between">
              <h5>Total: ₹<span id="cart-total">0</span></h5>
            </div>
            <!-- Buy Now Button -->
            <button id="buy-all" class="btn btn-success w-100">
              Buy All Items
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Your existing script -->
    <script>
      let cart = [];

      const cartIcon = document.getElementById("cart-icon");
      const cartModal = new bootstrap.Modal(
        document.getElementById("cartModal")
      );
      const cartItemsList = document.getElementById("cart-items");
      const cartCount = document.getElementById("cart-count");
      const cartTotal = document.getElementById("cart-total");

      document.querySelectorAll(".add-to-cart").forEach((button) => {
        // Create custom quantity control
        const cardBody = button.parentElement;
        const quantityWrapper = document.createElement("div");
        quantityWrapper.className = "input-group justify-content-center my-2";
        quantityWrapper.innerHTML = `  
    <button class="btn btn-sm btn-outline-secondary decrease">-</button>  
    <input type="number" class="form-control text-center quantity-input" value="1" min="1" style="max-width: 60px;">  
    <button class="btn btn-sm btn-outline-secondary increase">+</button>  
  `;
        cardBody.insertBefore(quantityWrapper, button);

        const decreaseBtn = quantityWrapper.querySelector(".decrease");
        const increaseBtn = quantityWrapper.querySelector(".increase");
        const qtyInput = quantityWrapper.querySelector(".quantity-input");

        increaseBtn.addEventListener("click", () => {
          qtyInput.value = parseInt(qtyInput.value) + 1;
        });

        decreaseBtn.addEventListener("click", () => {
          if (parseInt(qtyInput.value) > 1) {
            qtyInput.value = parseInt(qtyInput.value) - 1;
          }
        });

        // Add to cart
        button.addEventListener("click", () => {
          const name = button.dataset.name;
          const price = parseInt(button.dataset.price);
          const image = button.dataset.image;
          const quantity = parseInt(qtyInput.value);

          const existingItem = cart.find((item) => item.name === name);
          if (existingItem) {
            existingItem.quantity += quantity;
          } else {
            cart.push({ name, price, image, quantity });
          }

          updateCartUI();
        });
      });

      // Show cart modal
      cartIcon.addEventListener("click", () => {
        updateCartUI();
        cartModal.show();
      });

      // Update cart UI
      function updateCartUI() {
        cartItemsList.innerHTML = "";
        let total = 0;
        cartCount.textContent = cart.reduce(
          (sum, item) => sum + item.quantity,
          0
        );

        cart.forEach((item, index) => {
          const li = document.createElement("li");
          li.className =
            "list-group-item d-flex justify-content-between align-items-center";
          li.innerHTML = `  
      <div class="d-flex align-items-center">  
        <img src="${item.image}" alt="${
            item.name
          }" width="60" height="60" class="rounded me-3" />  
        <div>  
          <strong>${item.name}</strong><br>  
          ₹${item.price} x ${item.quantity}  
        </div>  
      </div>  
      <div>  
        ₹${item.price * item.quantity}  
        <button class="btn btn-sm btn-danger ms-3" onclick="removeFromCart(${index})">×</button>  
      </div>  
      <div>  
        <button class="btn btn-primary btn-sm mt-2 buy-item" data-index="${index}">Buy</button>  
      </div>  
    `;
          cartItemsList.appendChild(li);
          total += item.price * item.quantity;
        });

        cartTotal.textContent = total;

        // Add event listeners for "Buy" buttons
        document.querySelectorAll(".buy-item").forEach((btn) => {
          btn.addEventListener("click", () => {
            const index = parseInt(btn.dataset.index);
            buySingleItem(index);
          });
        });
      }

      // Remove item from cart
      function removeFromCart(index) {
        cart.splice(index, 1);
        updateCartUI();
      }

      // Buy single item (simulate payment)
      function buySingleItem(index) {
        const item = cart[index];
        alert(`Purchasing ${item.name} for ₹${item.price * item.quantity}`);
        // Remove item after purchase
        cart.splice(index, 1);
        updateCartUI();
      }

      // Buy all items
      document.getElementById("buy-all").addEventListener("click", () => {
        if (cart.length === 0) {
          alert("Your cart is empty!");
          return;
        }
        let totalAmount = cart.reduce(
          (sum, item) => sum + item.price * item.quantity,
          0
        );
        alert(`Total payment of ₹${totalAmount} for all items.`);
        cart = []; // clear cart after purchase
        updateCartUI();
      });

      // Payments Method(Gpay, Phonepay, paytm)
      const paymentModal = new bootstrap.Modal(
        document.getElementById("paymentModal")
      );
      let pendingPurchase = null; // holds either single item or 'all'

      function showPaymentOptions(callback) {
        pendingPurchase = callback;
        paymentModal.show();
      }

      document
        .getElementById("confirmPayment")
        .addEventListener("click", () => {
          const selectedMethod = document.querySelector(
            'input[name="paymentMethod"]:checked'
          ).value;

          if (pendingPurchase) {
            pendingPurchase(selectedMethod); // call stored function with selected method
            paymentModal.hide();
          }
        });

      // Modified buySingleItem function
      function buySingleItem(index) {
        const item = cart[index];
        showPaymentOptions((method) => {
          alert(
            `You chose ${method} to buy ${item.name} for ₹${
              item.price * item.quantity
            }`
          );
          cart.splice(index, 1);
          updateCartUI();
        });
      }

      // Modified Buy All Items handler
      document.getElementById("buy-all").addEventListener("click", () => {
        if (cart.length === 0) {
          alert("Your cart is empty!");
          return;
        }

        const totalAmount = cart.reduce(
          (sum, item) => sum + item.price * item.quantity,
          0
        );

        showPaymentOptions((method) => {
          alert(
            `You chose ${method}. Total payment of ₹${totalAmount} for all items.`
          );
          cart = [];
          updateCartUI();
          cartModal.hide();
        });
      });

      document
        .getElementById("continue-to-payment")
        .addEventListener("click", () => {
          if (cart.length === 0) {
            alert("Your cart is empty!");
            return;
          }

          const totalAmount = cart.reduce(
            (sum, item) => sum + item.price * item.quantity,
            0
          );

          showPaymentOptions((method) => {
            alert(
              `You chose ${method}. Total payment of ₹${totalAmount} for all items.`
            );
            cart = [];
            updateCartUI();
            cartModal.hide();
          });
        });
    </script>

    <script>
      AOS.init({
        duration: 2000,
        once: true,
      });
    </script>
  </body>
</html>
